## Customize the test machine
machine:

  pre:
    - nvm install v6.7.0 && nvm use v6.7.0 && nvm alias default v6.7.0

  timezone:
    Asia/Taipei

  python:
    version:
      2.7.11

  services:
    - docker

dependencies:
  pre:
    - cd bb8/frontend && npm install
    - cat $(find -name requirements.txt) | sort | uniq | pip install -r /dev/stdin

## Customize test commands
test:
  override:
    - cd bb8/frontend && npm run lint:css && npm run test && npm run build
    - source bin/env.sh && make lint
    - source bin/env.sh && make coverage && mv htmlcov/* $CIRCLE_ARTIFACTS/
